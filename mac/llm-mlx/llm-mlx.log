Requirement already satisfied: mlx-lm in ./.venv/lib/python3.13/site-packages (from -r requirements.txt (line 1)) (0.27.1)
Requirement already satisfied: mlx>=0.29.0 in ./.venv/lib/python3.13/site-packages (from mlx-lm->-r requirements.txt (line 1)) (0.29.1)
Requirement already satisfied: numpy in ./.venv/lib/python3.13/site-packages (from mlx-lm->-r requirements.txt (line 1)) (2.3.3)
Requirement already satisfied: transformers>=4.39.3 in ./.venv/lib/python3.13/site-packages (from mlx-lm->-r requirements.txt (line 1)) (4.56.1)
Requirement already satisfied: protobuf in ./.venv/lib/python3.13/site-packages (from mlx-lm->-r requirements.txt (line 1)) (6.32.1)
Requirement already satisfied: pyyaml in ./.venv/lib/python3.13/site-packages (from mlx-lm->-r requirements.txt (line 1)) (6.0.2)
Requirement already satisfied: jinja2 in ./.venv/lib/python3.13/site-packages (from mlx-lm->-r requirements.txt (line 1)) (3.1.6)
Requirement already satisfied: mlx-metal==0.29.1 in ./.venv/lib/python3.13/site-packages (from mlx>=0.29.0->mlx-lm->-r requirements.txt (line 1)) (0.29.1)
Requirement already satisfied: filelock in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (3.19.1)
Requirement already satisfied: huggingface-hub<1.0,>=0.34.0 in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (0.34.5)
Requirement already satisfied: packaging>=20.0 in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (25.0)
Requirement already satisfied: regex!=2019.12.17 in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (2025.9.1)
Requirement already satisfied: requests in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (2.32.5)
Requirement already satisfied: tokenizers<=0.23.0,>=0.22.0 in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (0.22.0)
Requirement already satisfied: safetensors>=0.4.3 in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (0.6.2)
Requirement already satisfied: tqdm>=4.27 in ./.venv/lib/python3.13/site-packages (from transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (4.67.1)
Requirement already satisfied: fsspec>=2023.5.0 in ./.venv/lib/python3.13/site-packages (from huggingface-hub<1.0,>=0.34.0->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (2025.9.0)
Requirement already satisfied: typing-extensions>=3.7.4.3 in ./.venv/lib/python3.13/site-packages (from huggingface-hub<1.0,>=0.34.0->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (4.15.0)
Requirement already satisfied: hf-xet<2.0.0,>=1.1.3 in ./.venv/lib/python3.13/site-packages (from huggingface-hub<1.0,>=0.34.0->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (1.1.10)
Requirement already satisfied: MarkupSafe>=2.0 in ./.venv/lib/python3.13/site-packages (from jinja2->mlx-lm->-r requirements.txt (line 1)) (3.0.2)
Requirement already satisfied: charset_normalizer<4,>=2 in ./.venv/lib/python3.13/site-packages (from requests->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (3.4.3)
Requirement already satisfied: idna<4,>=2.5 in ./.venv/lib/python3.13/site-packages (from requests->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (3.10)
Requirement already satisfied: urllib3<3,>=1.21.1 in ./.venv/lib/python3.13/site-packages (from requests->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (2.5.0)
Requirement already satisfied: certifi>=2017.4.17 in ./.venv/lib/python3.13/site-packages (from requests->transformers>=4.39.3->mlx-lm->-r requirements.txt (line 1)) (2025.8.3)
Fetching 9 files:   0%|          | 0/9 [00:00<?, ?it/s]Fetching 9 files: 100%|██████████| 9/9 [00:00<00:00, 152212.65it/s]
/Users/shiv/workspace/esbmc-python-branch/mac/llm-mlx/.venv/lib/python3.13/site-packages/mlx_lm/server.py:986: UserWarning: mlx_lm.server is not recommended for production as it only implements basic security checks.
  warnings.warn(
2025-09-16 00:37:11,730 - INFO - Starting httpd at 127.0.0.1 on port 8080...
127.0.0.1 - - [16/Sep/2025 00:37:57] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:37:57,232 - INFO - Prompt processing progress: 0/1071
2025-09-16 00:37:58,517 - INFO - Prompt processing progress: 1070/1071
2025-09-16 00:37:58,666 - INFO - Prompt processing progress: 1071/1071
127.0.0.1 - - [16/Sep/2025 00:38:02] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:38:02,875 - INFO - Prompt processing progress: 0/630
2025-09-16 00:38:03,490 - INFO - Prompt processing progress: 629/630
2025-09-16 00:38:03,509 - INFO - Prompt processing progress: 630/630
127.0.0.1 - - [16/Sep/2025 00:38:07] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:38:07,763 - INFO - Prompt processing progress: 0/1
2025-09-16 00:38:07,796 - INFO - Prompt processing progress: 1/1
127.0.0.1 - - [16/Sep/2025 00:38:12] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:38:12,070 - INFO - Prompt processing progress: 0/1
2025-09-16 00:38:12,104 - INFO - Prompt processing progress: 1/1
----------------------------------------
Exception occurred during processing of request from ('127.0.0.1', 65492)
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 318, in _handle_request_noblock
    self.process_request(request, client_address)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 349, in process_request
    self.finish_request(request, client_address)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shiv/workspace/esbmc-python-branch/mac/llm-mlx/.venv/lib/python3.13/site-packages/mlx_lm/server.py", line 978, in <lambda>
    lambda *args, **kwargs: handler_class(
                            ~~~~~~~~~~~~~^
        model_provider,
        ^^^^^^^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "/Users/shiv/workspace/esbmc-python-branch/mac/llm-mlx/.venv/lib/python3.13/site-packages/mlx_lm/server.py", line 266, in __init__
    super().__init__(*args, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 766, in __init__
    self.handle()
    ~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/server.py", line 436, in handle
    self.handle_one_request()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/server.py", line 424, in handle_one_request
    method()
    ~~~~~~^^
  File "/Users/shiv/workspace/esbmc-python-branch/mac/llm-mlx/.venv/lib/python3.13/site-packages/mlx_lm/server.py", line 391, in do_POST
    self.handle_completion(prompt, stop_id_sequences)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shiv/workspace/esbmc-python-branch/mac/llm-mlx/.venv/lib/python3.13/site-packages/mlx_lm/server.py", line 782, in handle_completion
    self.wfile.write(f"data: {json.dumps(response)}\n\n".encode())
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socketserver.py", line 845, in write
    self._sock.sendall(b)
    ~~~~~~~~~~~~~~~~~~^^^
BrokenPipeError: [Errno 32] Broken pipe
----------------------------------------
127.0.0.1 - - [16/Sep/2025 00:40:23] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:40:23,982 - INFO - Prompt processing progress: 0/616
2025-09-16 00:40:24,600 - INFO - Prompt processing progress: 615/616
2025-09-16 00:40:24,617 - INFO - Prompt processing progress: 616/616
127.0.0.1 - - [16/Sep/2025 00:40:28] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:40:28,754 - INFO - Prompt processing progress: 0/571
2025-09-16 00:40:29,319 - INFO - Prompt processing progress: 570/571
2025-09-16 00:40:29,337 - INFO - Prompt processing progress: 571/571
127.0.0.1 - - [16/Sep/2025 00:40:33] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:40:33,525 - INFO - Prompt processing progress: 0/1
2025-09-16 00:40:33,566 - INFO - Prompt processing progress: 1/1
127.0.0.1 - - [16/Sep/2025 00:40:37] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:40:37,764 - INFO - Prompt processing progress: 0/1
2025-09-16 00:40:37,801 - INFO - Prompt processing progress: 1/1
127.0.0.1 - - [16/Sep/2025 00:40:41] "POST /v1/chat/completions HTTP/1.1" 200 -
2025-09-16 00:40:42,015 - INFO - Prompt processing progress: 0/1
2025-09-16 00:40:42,050 - INFO - Prompt processing progress: 1/1
